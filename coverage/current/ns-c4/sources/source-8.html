


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > ForwardChainingRDFSInferencerConnection</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.eclipse.rdf4j.sail.inferencer.fc</a>
</div>

<h1>Coverage Summary for Class: ForwardChainingRDFSInferencerConnection (org.eclipse.rdf4j.sail.inferencer.fc)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">ForwardChainingRDFSInferencerConnection</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/32)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/197)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/452)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*******************************************************************************
&nbsp; * Copyright (c) 2015 Eclipse RDF4J contributors, Aduna, and others.
&nbsp; *
&nbsp; * All rights reserved. This program and the accompanying materials
&nbsp; * are made available under the terms of the Eclipse Distribution License v1.0
&nbsp; * which accompanies this distribution, and is available at
&nbsp; * http://www.eclipse.org/org/documents/edl-v10.php.
&nbsp; *
&nbsp; * SPDX-License-Identifier: BSD-3-Clause
&nbsp; *******************************************************************************/
&nbsp;package org.eclipse.rdf4j.sail.inferencer.fc;
&nbsp;
&nbsp;import org.eclipse.rdf4j.common.iteration.CloseableIteration;
&nbsp;import org.eclipse.rdf4j.common.text.ASCIIUtil;
&nbsp;import org.eclipse.rdf4j.model.IRI;
&nbsp;import org.eclipse.rdf4j.model.Model;
&nbsp;import org.eclipse.rdf4j.model.Resource;
&nbsp;import org.eclipse.rdf4j.model.Statement;
&nbsp;import org.eclipse.rdf4j.model.Value;
&nbsp;import org.eclipse.rdf4j.model.impl.DynamicModelFactory;
&nbsp;import org.eclipse.rdf4j.model.vocabulary.RDF;
&nbsp;import org.eclipse.rdf4j.model.vocabulary.RDFS;
&nbsp;import org.eclipse.rdf4j.sail.Sail;
&nbsp;import org.eclipse.rdf4j.sail.SailException;
&nbsp;import org.eclipse.rdf4j.sail.inferencer.InferencerConnection;
&nbsp;import org.slf4j.Logger;
&nbsp;import org.slf4j.LoggerFactory;
&nbsp;
&nbsp;/**
&nbsp; * Forward-chaining RDF Schema inferencer, using the rules from the
&nbsp; * &lt;a href=&quot;http://www.w3.org/TR/2004/REC-rdf-mt-20040210/&quot;&gt;RDF Semantics Recommendation (10 February 2004)&lt;/a&gt;. This
&nbsp; * inferencer can be used to add RDF Schema semantics to any Sail that returns {@link InferencerConnection}s from their
&nbsp; * {@link Sail#getConnection()} method.
&nbsp; *
&nbsp; * @deprecated since 2.5. This inferencer implementation will be phased out. Consider switching to the
&nbsp; *             {@link SchemaCachingRDFSInferencer} instead.
&nbsp; */
&nbsp;@Deprecated
&nbsp;class ForwardChainingRDFSInferencerConnection extends AbstractForwardChainingInferencerConnection {
&nbsp;
<b class="nc">&nbsp;	static private final Logger logger = LoggerFactory.getLogger(ForwardChainingRDFSInferencerConnection.class);</b>
&nbsp;
&nbsp;	/*-----------*
&nbsp;	 * Variables *
&nbsp;	 *-----------*/
&nbsp;
&nbsp;	private Model newThisIteration;
&nbsp;
&nbsp;	/**
&nbsp;	 * Flags indicating which rules should be evaluated.
&nbsp;	 */
<b class="nc">&nbsp;	private final boolean[] checkRule = new boolean[RDFSRules.RULECOUNT];</b>
&nbsp;
&nbsp;	/**
&nbsp;	 * Flags indicating which rules should be evaluated next iteration.
&nbsp;	 */
<b class="nc">&nbsp;	private final boolean[] checkRuleNextIter = new boolean[RDFSRules.RULECOUNT];</b>
&nbsp;
&nbsp;	/**
&nbsp;	 * The number of inferred statements per rule.
&nbsp;	 */
<b class="nc">&nbsp;	private final int[] ruleCount = new int[RDFSRules.RULECOUNT];</b>
&nbsp;
&nbsp;	/*--------------*
&nbsp;	 * Constructors *
&nbsp;	 *--------------*/
&nbsp;
&nbsp;	public ForwardChainingRDFSInferencerConnection(Sail sail, InferencerConnection con) {
<b class="nc">&nbsp;		super(sail, con);</b>
&nbsp;	}
&nbsp;
&nbsp;	/*---------*
&nbsp;	 * Methods *
&nbsp;	 *---------*/
&nbsp;
&nbsp;	// Called by base sail
&nbsp;	@Override
&nbsp;	protected Model createModel() {
<b class="nc">&nbsp;		return new DynamicModelFactory().createEmptyModel();</b>
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Adds all basic set of axiom statements from which the complete set can be inferred to the underlying Sail.
&nbsp;	 */
&nbsp;	@Override
&nbsp;	protected void addAxiomStatements() throws SailException {
<b class="nc">&nbsp;		logger.debug(&quot;Inserting axiom statements&quot;);</b>
&nbsp;
&nbsp;		// RDF axiomatic triples (from RDF Semantics, section 3.1):
&nbsp;
<b class="nc">&nbsp;		addInferredStatement(RDF.TYPE, RDF.TYPE, RDF.PROPERTY);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.SUBJECT, RDF.TYPE, RDF.PROPERTY);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.PREDICATE, RDF.TYPE, RDF.PROPERTY);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.OBJECT, RDF.TYPE, RDF.PROPERTY);</b>
&nbsp;
<b class="nc">&nbsp;		addInferredStatement(RDF.FIRST, RDF.TYPE, RDF.PROPERTY);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.REST, RDF.TYPE, RDF.PROPERTY);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.VALUE, RDF.TYPE, RDF.PROPERTY);</b>
&nbsp;
<b class="nc">&nbsp;		addInferredStatement(RDF.NIL, RDF.TYPE, RDF.LIST);</b>
&nbsp;
&nbsp;		// RDFS axiomatic triples (from RDF Semantics, section 4.1):
&nbsp;
<b class="nc">&nbsp;		addInferredStatement(RDF.TYPE, RDFS.DOMAIN, RDFS.RESOURCE);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.DOMAIN, RDFS.DOMAIN, RDF.PROPERTY);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.RANGE, RDFS.DOMAIN, RDF.PROPERTY);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.SUBPROPERTYOF, RDFS.DOMAIN, RDF.PROPERTY);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.SUBCLASSOF, RDFS.DOMAIN, RDFS.CLASS);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.SUBJECT, RDFS.DOMAIN, RDF.STATEMENT);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.PREDICATE, RDFS.DOMAIN, RDF.STATEMENT);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.OBJECT, RDFS.DOMAIN, RDF.STATEMENT);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.MEMBER, RDFS.DOMAIN, RDFS.RESOURCE);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.FIRST, RDFS.DOMAIN, RDF.LIST);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.REST, RDFS.DOMAIN, RDF.LIST);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.SEEALSO, RDFS.DOMAIN, RDFS.RESOURCE);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.ISDEFINEDBY, RDFS.DOMAIN, RDFS.RESOURCE);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.COMMENT, RDFS.DOMAIN, RDFS.RESOURCE);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.LABEL, RDFS.DOMAIN, RDFS.RESOURCE);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.VALUE, RDFS.DOMAIN, RDFS.RESOURCE);</b>
&nbsp;
<b class="nc">&nbsp;		addInferredStatement(RDF.TYPE, RDFS.RANGE, RDFS.CLASS);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.DOMAIN, RDFS.RANGE, RDFS.CLASS);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.RANGE, RDFS.RANGE, RDFS.CLASS);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.SUBPROPERTYOF, RDFS.RANGE, RDF.PROPERTY);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.SUBCLASSOF, RDFS.RANGE, RDFS.CLASS);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.SUBJECT, RDFS.RANGE, RDFS.RESOURCE);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.PREDICATE, RDFS.RANGE, RDFS.RESOURCE);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.OBJECT, RDFS.RANGE, RDFS.RESOURCE);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.MEMBER, RDFS.RANGE, RDFS.RESOURCE);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.FIRST, RDFS.RANGE, RDFS.RESOURCE);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.REST, RDFS.RANGE, RDF.LIST);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.SEEALSO, RDFS.RANGE, RDFS.RESOURCE);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.ISDEFINEDBY, RDFS.RANGE, RDFS.RESOURCE);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.COMMENT, RDFS.RANGE, RDFS.LITERAL);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.LABEL, RDFS.RANGE, RDFS.LITERAL);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.VALUE, RDFS.RANGE, RDFS.RESOURCE);</b>
&nbsp;
<b class="nc">&nbsp;		addInferredStatement(RDF.ALT, RDFS.SUBCLASSOF, RDFS.CONTAINER);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.BAG, RDFS.SUBCLASSOF, RDFS.CONTAINER);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.SEQ, RDFS.SUBCLASSOF, RDFS.CONTAINER);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.CONTAINERMEMBERSHIPPROPERTY, RDFS.SUBCLASSOF, RDF.PROPERTY);</b>
&nbsp;
<b class="nc">&nbsp;		addInferredStatement(RDFS.ISDEFINEDBY, RDFS.SUBPROPERTYOF, RDFS.SEEALSO);</b>
&nbsp;
<b class="nc">&nbsp;		addInferredStatement(RDF.XMLLITERAL, RDF.TYPE, RDFS.DATATYPE);</b>
<b class="nc">&nbsp;		addInferredStatement(RDF.XMLLITERAL, RDFS.SUBCLASSOF, RDFS.LITERAL);</b>
<b class="nc">&nbsp;		addInferredStatement(RDFS.DATATYPE, RDFS.SUBCLASSOF, RDFS.CLASS);</b>
&nbsp;	}
&nbsp;
&nbsp;	@Override
&nbsp;	protected void doInferencing() throws SailException {
&nbsp;		// All rules need to be checked:
<b class="nc">&nbsp;		for (int i = 0; i &lt; RDFSRules.RULECOUNT; i++) {</b>
<b class="nc">&nbsp;			ruleCount[i] = 0;</b>
<b class="nc">&nbsp;			checkRuleNextIter[i] = true;</b>
&nbsp;		}
&nbsp;
<b class="nc">&nbsp;		super.doInferencing();</b>
&nbsp;
&nbsp;		// Print some statistics
<b class="nc">&nbsp;		logger.debug(&quot;---RdfMTInferencer statistics:---&quot;);</b>
<b class="nc">&nbsp;		logger.debug(&quot;total statements inferred = &quot; + totalInferred);</b>
<b class="nc">&nbsp;		for (int i = 0; i &lt; RDFSRules.RULECOUNT; i++) {</b>
<b class="nc">&nbsp;			logger.debug(&quot;rule &quot; + RDFSRules.RULENAMES[i] + &quot;:\t#inferred=&quot; + ruleCount[i]);</b>
&nbsp;		}
<b class="nc">&nbsp;		logger.debug(&quot;---end of statistics:---&quot;);</b>
&nbsp;	}
&nbsp;
&nbsp;	@Override
&nbsp;	protected int applyRules(Model iteration) throws SailException {
<b class="nc">&nbsp;		newThisIteration = iteration;</b>
<b class="nc">&nbsp;		int nofInferred = 0;</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdf1);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs2_1);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs2_2);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs3_1);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs3_2);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs4a);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs4b);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs5_1);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs5_2);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs6);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs7_1);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs7_2);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs8);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs9_1);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs9_2);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs10);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs11_1);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs11_2);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs12);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.Rdfs13);</b>
<b class="nc">&nbsp;		nofInferred += applyRule(RDFSRules.RX1);</b>
<b class="nc">&nbsp;		newThisIteration = null;</b>
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	@Override
&nbsp;	protected Model prepareIteration() {
<b class="nc">&nbsp;		for (int i = 0; i &lt; RDFSRules.RULECOUNT; i++) {</b>
<b class="nc">&nbsp;			checkRule[i] = checkRuleNextIter[i];</b>
&nbsp;
&nbsp;			// reset for next iteration:
<b class="nc">&nbsp;			checkRuleNextIter[i] = false;</b>
&nbsp;		}
<b class="nc">&nbsp;		return super.prepareIteration();</b>
&nbsp;	}
&nbsp;
&nbsp;	protected void updateTriggers(int ruleNo, int nofInferred) {
<b class="nc">&nbsp;		if (nofInferred &gt; 0) {</b>
<b class="nc">&nbsp;			ruleCount[ruleNo] += nofInferred;</b>
&nbsp;
&nbsp;			// Check which rules are triggered by this one.
<b class="nc">&nbsp;			boolean[] triggers = RDFSRules.TRIGGERS[ruleNo];</b>
&nbsp;
<b class="nc">&nbsp;			for (int i = 0; i &lt; RDFSRules.RULECOUNT; i++) {</b>
<b class="nc">&nbsp;				if (triggers[i] == true) {</b>
<b class="nc">&nbsp;					checkRuleNextIter[i] = true;</b>
&nbsp;				}
&nbsp;			}
&nbsp;		}
&nbsp;	}
&nbsp;
&nbsp;	protected int applyRule(int rule) throws SailException {
<b class="nc">&nbsp;		if (!checkRule[rule]) {</b>
<b class="nc">&nbsp;			return 0;</b>
&nbsp;		}
&nbsp;		int nofInferred;
&nbsp;
<b class="nc">&nbsp;		nofInferred = applyRuleInternal(rule);</b>
&nbsp;
<b class="nc">&nbsp;		updateTriggers(rule, nofInferred);</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	protected int applyRuleInternal(int rule) throws SailException {
&nbsp;		int result;
&nbsp;
<b class="nc">&nbsp;		switch (rule) {</b>
&nbsp;		case RDFSRules.Rdf1:
<b class="nc">&nbsp;			result = applyRuleRdf1();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs2_1:
<b class="nc">&nbsp;			result = applyRuleRdfs2_1();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs2_2:
<b class="nc">&nbsp;			result = applyRuleRdfs2_2();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs3_1:
<b class="nc">&nbsp;			result = applyRuleRdfs3_1();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs3_2:
<b class="nc">&nbsp;			result = applyRuleRdfs3_2();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs4a:
<b class="nc">&nbsp;			result = applyRuleRdfs4a();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs4b:
<b class="nc">&nbsp;			result = applyRuleRdfs4b();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs5_1:
<b class="nc">&nbsp;			result = applyRuleRdfs5_1();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs5_2:
<b class="nc">&nbsp;			result = applyRuleRdfs5_2();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs6:
<b class="nc">&nbsp;			result = applyRuleRdfs6();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs7_1:
<b class="nc">&nbsp;			result = applyRuleRdfs7_1();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs7_2:
<b class="nc">&nbsp;			result = applyRuleRdfs7_2();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs8:
<b class="nc">&nbsp;			result = applyRuleRdfs8();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs9_1:
<b class="nc">&nbsp;			result = applyRuleRdfs9_1();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs9_2:
<b class="nc">&nbsp;			result = applyRuleRdfs9_2();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs10:
<b class="nc">&nbsp;			result = applyRuleRdfs10();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs11_1:
<b class="nc">&nbsp;			result = applyRuleRdfs11_1();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs11_2:
<b class="nc">&nbsp;			result = applyRuleRdfs11_2();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs12:
<b class="nc">&nbsp;			result = applyRuleRdfs12();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.Rdfs13:
<b class="nc">&nbsp;			result = applyRuleRdfs13();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		case RDFSRules.RX1:
<b class="nc">&nbsp;			result = applyRuleX1();</b>
<b class="nc">&nbsp;			break;</b>
&nbsp;		default:
<b class="nc">&nbsp;			throw new AssertionError(&quot;Unexpected rule: &quot; + rule);</b>
&nbsp;		}
&nbsp;		// ThreadLog.trace(&quot;Rule &quot; + RDFSRules.RULENAMES[rule] + &quot; inferred &quot; +
&nbsp;		// result + &quot; new triples.&quot;);
<b class="nc">&nbsp;		return result;</b>
&nbsp;	}
&nbsp;
&nbsp;	// xxx aaa yyy --&gt; aaa rdf:type rdf:Property
&nbsp;	private int applyRuleRdf1() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; iter = newThisIteration.getStatements(null, null, null);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement st : iter) {</b>
<b class="nc">&nbsp;			boolean added = addInferredStatement(st.getPredicate(), RDF.TYPE, RDF.PROPERTY);</b>
&nbsp;
<b class="nc">&nbsp;			if (added) {</b>
<b class="nc">&nbsp;				nofInferred++;</b>
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// xxx aaa yyy (nt) &amp;&amp; aaa rdfs:domain zzz (t1) --&gt; xxx rdf:type zzz
&nbsp;	private int applyRuleRdfs2_1() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; ntIter = newThisIteration.getStatements(null, null, null);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement nt : ntIter) {</b>
<b class="nc">&nbsp;			Resource xxx = nt.getSubject();</b>
<b class="nc">&nbsp;			IRI aaa = nt.getPredicate();</b>
&nbsp;
&nbsp;			CloseableIteration&lt;? extends Statement, SailException&gt; t1Iter;
<b class="nc">&nbsp;			t1Iter = getWrappedConnection().getStatements(aaa, RDFS.DOMAIN, null, true);</b>
&nbsp;
<b class="nc">&nbsp;			while (t1Iter.hasNext()) {</b>
<b class="nc">&nbsp;				Statement t1 = t1Iter.next();</b>
&nbsp;
<b class="nc">&nbsp;				Value zzz = t1.getObject();</b>
<b class="nc">&nbsp;				if (zzz instanceof Resource) {</b>
<b class="nc">&nbsp;					boolean added = addInferredStatement(xxx, RDF.TYPE, zzz);</b>
<b class="nc">&nbsp;					if (added) {</b>
<b class="nc">&nbsp;						nofInferred++;</b>
&nbsp;					}
&nbsp;				}
<b class="nc">&nbsp;			}</b>
<b class="nc">&nbsp;			t1Iter.close();</b>
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// aaa rdfs:domain zzz (nt) &amp;&amp; xxx aaa yyy (t1) --&gt; xxx rdf:type zzz
&nbsp;	private int applyRuleRdfs2_2() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; ntIter = newThisIteration.getStatements(null, RDFS.DOMAIN, null);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement nt : ntIter) {</b>
<b class="nc">&nbsp;			Resource aaa = nt.getSubject();</b>
<b class="nc">&nbsp;			Value zzz = nt.getObject();</b>
&nbsp;
<b class="nc">&nbsp;			if (aaa instanceof IRI &amp;&amp; zzz instanceof Resource) {</b>
&nbsp;				CloseableIteration&lt;? extends Statement, SailException&gt; t1Iter;
<b class="nc">&nbsp;				t1Iter = getWrappedConnection().getStatements(null, (IRI) aaa, null, true);</b>
&nbsp;
<b class="nc">&nbsp;				while (t1Iter.hasNext()) {</b>
<b class="nc">&nbsp;					Statement t1 = t1Iter.next();</b>
&nbsp;
<b class="nc">&nbsp;					Resource xxx = t1.getSubject();</b>
<b class="nc">&nbsp;					boolean added = addInferredStatement(xxx, RDF.TYPE, zzz);</b>
<b class="nc">&nbsp;					if (added) {</b>
<b class="nc">&nbsp;						nofInferred++;</b>
&nbsp;					}
<b class="nc">&nbsp;				}</b>
<b class="nc">&nbsp;				t1Iter.close();</b>
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// xxx aaa uuu (nt) &amp;&amp; aaa rdfs:range zzz (t1) --&gt; uuu rdf:type zzz
&nbsp;	private int applyRuleRdfs3_1() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; ntIter = newThisIteration.getStatements(null, null, null);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement nt : ntIter) {</b>
<b class="nc">&nbsp;			IRI aaa = nt.getPredicate();</b>
<b class="nc">&nbsp;			Value uuu = nt.getObject();</b>
&nbsp;
<b class="nc">&nbsp;			if (uuu instanceof Resource) {</b>
&nbsp;				CloseableIteration&lt;? extends Statement, SailException&gt; t1Iter;
<b class="nc">&nbsp;				t1Iter = getWrappedConnection().getStatements(aaa, RDFS.RANGE, null, true);</b>
&nbsp;
<b class="nc">&nbsp;				while (t1Iter.hasNext()) {</b>
<b class="nc">&nbsp;					Statement t1 = t1Iter.next();</b>
&nbsp;
<b class="nc">&nbsp;					Value zzz = t1.getObject();</b>
<b class="nc">&nbsp;					if (zzz instanceof Resource) {</b>
<b class="nc">&nbsp;						boolean added = addInferredStatement((Resource) uuu, RDF.TYPE, zzz);</b>
<b class="nc">&nbsp;						if (added) {</b>
<b class="nc">&nbsp;							nofInferred++;</b>
&nbsp;						}
&nbsp;					}
<b class="nc">&nbsp;				}</b>
<b class="nc">&nbsp;				t1Iter.close();</b>
&nbsp;			}
<b class="nc">&nbsp;		}</b>
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// aaa rdfs:range zzz (nt) &amp;&amp; xxx aaa uuu (t1) --&gt; uuu rdf:type zzz
&nbsp;	private int applyRuleRdfs3_2() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; ntIter = newThisIteration.getStatements(null, RDFS.RANGE, null);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement nt : ntIter) {</b>
<b class="nc">&nbsp;			Resource aaa = nt.getSubject();</b>
<b class="nc">&nbsp;			Value zzz = nt.getObject();</b>
&nbsp;
<b class="nc">&nbsp;			if (aaa instanceof IRI &amp;&amp; zzz instanceof Resource) {</b>
&nbsp;				CloseableIteration&lt;? extends Statement, SailException&gt; t1Iter;
<b class="nc">&nbsp;				t1Iter = getWrappedConnection().getStatements(null, (IRI) aaa, null, true);</b>
&nbsp;
<b class="nc">&nbsp;				while (t1Iter.hasNext()) {</b>
<b class="nc">&nbsp;					Statement t1 = t1Iter.next();</b>
&nbsp;
<b class="nc">&nbsp;					Value uuu = t1.getObject();</b>
<b class="nc">&nbsp;					if (uuu instanceof Resource) {</b>
<b class="nc">&nbsp;						boolean added = addInferredStatement((Resource) uuu, RDF.TYPE, zzz);</b>
<b class="nc">&nbsp;						if (added) {</b>
<b class="nc">&nbsp;							nofInferred++;</b>
&nbsp;						}
&nbsp;					}
<b class="nc">&nbsp;				}</b>
<b class="nc">&nbsp;				t1Iter.close();</b>
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;
&nbsp;	}
&nbsp;
&nbsp;	// xxx aaa yyy --&gt; xxx rdf:type rdfs:Resource
&nbsp;	private int applyRuleRdfs4a() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; iter = newThisIteration.getStatements(null, null, null);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement st : iter) {</b>
<b class="nc">&nbsp;			boolean added = addInferredStatement(st.getSubject(), RDF.TYPE, RDFS.RESOURCE);</b>
<b class="nc">&nbsp;			if (added) {</b>
<b class="nc">&nbsp;				nofInferred++;</b>
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// xxx aaa uuu --&gt; uuu rdf:type rdfs:Resource
&nbsp;	private int applyRuleRdfs4b() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; iter = newThisIteration.getStatements(null, null, null);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement st : iter) {</b>
<b class="nc">&nbsp;			Value uuu = st.getObject();</b>
<b class="nc">&nbsp;			if (uuu instanceof Resource) {</b>
<b class="nc">&nbsp;				boolean added = addInferredStatement((Resource) uuu, RDF.TYPE, RDFS.RESOURCE);</b>
<b class="nc">&nbsp;				if (added) {</b>
<b class="nc">&nbsp;					nofInferred++;</b>
&nbsp;				}
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// aaa rdfs:subPropertyOf bbb (nt) &amp;&amp; bbb rdfs:subPropertyOf ccc (t1)
&nbsp;	// --&gt; aaa rdfs:subPropertyOf ccc
&nbsp;	private int applyRuleRdfs5_1() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; ntIter = newThisIteration.getStatements(null, RDFS.SUBPROPERTYOF, null);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement nt : ntIter) {</b>
<b class="nc">&nbsp;			Resource aaa = nt.getSubject();</b>
<b class="nc">&nbsp;			Value bbb = nt.getObject();</b>
&nbsp;
<b class="nc">&nbsp;			if (bbb instanceof Resource) {</b>
&nbsp;				CloseableIteration&lt;? extends Statement, SailException&gt; t1Iter;
<b class="nc">&nbsp;				t1Iter = getWrappedConnection().getStatements((Resource) bbb, RDFS.SUBPROPERTYOF, null, true);</b>
&nbsp;
<b class="nc">&nbsp;				while (t1Iter.hasNext()) {</b>
<b class="nc">&nbsp;					Statement t1 = t1Iter.next();</b>
&nbsp;
<b class="nc">&nbsp;					Value ccc = t1.getObject();</b>
<b class="nc">&nbsp;					if (ccc instanceof Resource) {</b>
<b class="nc">&nbsp;						boolean added = addInferredStatement(aaa, RDFS.SUBPROPERTYOF, ccc);</b>
<b class="nc">&nbsp;						if (added) {</b>
<b class="nc">&nbsp;							nofInferred++;</b>
&nbsp;						}
&nbsp;					}
<b class="nc">&nbsp;				}</b>
<b class="nc">&nbsp;				t1Iter.close();</b>
&nbsp;
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// bbb rdfs:subPropertyOf ccc (nt) &amp;&amp; aaa rdfs:subPropertyOf bbb (t1)
&nbsp;	// --&gt; aaa rdfs:subPropertyOf ccc
&nbsp;	private int applyRuleRdfs5_2() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; ntIter = newThisIteration.getStatements(null, RDFS.SUBPROPERTYOF, null);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement nt : ntIter) {</b>
<b class="nc">&nbsp;			Resource bbb = nt.getSubject();</b>
<b class="nc">&nbsp;			Value ccc = nt.getObject();</b>
&nbsp;
<b class="nc">&nbsp;			if (ccc instanceof Resource) {</b>
&nbsp;				CloseableIteration&lt;? extends Statement, SailException&gt; t1Iter;
<b class="nc">&nbsp;				t1Iter = getWrappedConnection().getStatements(null, RDFS.SUBPROPERTYOF, bbb, true);</b>
&nbsp;
<b class="nc">&nbsp;				while (t1Iter.hasNext()) {</b>
<b class="nc">&nbsp;					Statement t1 = t1Iter.next();</b>
&nbsp;
<b class="nc">&nbsp;					Resource aaa = t1.getSubject();</b>
<b class="nc">&nbsp;					boolean added = addInferredStatement(aaa, RDFS.SUBPROPERTYOF, ccc);</b>
<b class="nc">&nbsp;					if (added) {</b>
<b class="nc">&nbsp;						nofInferred++;</b>
&nbsp;					}
<b class="nc">&nbsp;				}</b>
<b class="nc">&nbsp;				t1Iter.close();</b>
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// xxx rdf:type rdf:Property --&gt; xxx rdfs:subPropertyOf xxx
&nbsp;	private int applyRuleRdfs6() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; iter = newThisIteration.getStatements(null, RDF.TYPE, RDF.PROPERTY);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement st : iter) {</b>
<b class="nc">&nbsp;			Resource xxx = st.getSubject();</b>
<b class="nc">&nbsp;			boolean added = addInferredStatement(xxx, RDFS.SUBPROPERTYOF, xxx);</b>
<b class="nc">&nbsp;			if (added) {</b>
<b class="nc">&nbsp;				nofInferred++;</b>
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// xxx aaa yyy (nt) &amp;&amp; aaa rdfs:subPropertyOf bbb (t1) --&gt; xxx bbb yyy
&nbsp;	private int applyRuleRdfs7_1() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; ntIter = newThisIteration.getStatements(null, null, null);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement nt : ntIter) {</b>
<b class="nc">&nbsp;			Resource xxx = nt.getSubject();</b>
<b class="nc">&nbsp;			IRI aaa = nt.getPredicate();</b>
<b class="nc">&nbsp;			Value yyy = nt.getObject();</b>
&nbsp;
&nbsp;			CloseableIteration&lt;? extends Statement, SailException&gt; t1Iter;
<b class="nc">&nbsp;			t1Iter = getWrappedConnection().getStatements(aaa, RDFS.SUBPROPERTYOF, null, true);</b>
&nbsp;
<b class="nc">&nbsp;			while (t1Iter.hasNext()) {</b>
<b class="nc">&nbsp;				Statement t1 = t1Iter.next();</b>
&nbsp;
<b class="nc">&nbsp;				Value bbb = t1.getObject();</b>
<b class="nc">&nbsp;				if (bbb instanceof IRI) {</b>
<b class="nc">&nbsp;					boolean added = addInferredStatement(xxx, (IRI) bbb, yyy);</b>
<b class="nc">&nbsp;					if (added) {</b>
<b class="nc">&nbsp;						nofInferred++;</b>
&nbsp;					}
&nbsp;				}
<b class="nc">&nbsp;			}</b>
<b class="nc">&nbsp;			t1Iter.close();</b>
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// aaa rdfs:subPropertyOf bbb (nt) &amp;&amp; xxx aaa yyy (t1) --&gt; xxx bbb yyy
&nbsp;	private int applyRuleRdfs7_2() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; ntIter = newThisIteration.getStatements(null, RDFS.SUBPROPERTYOF, null);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement nt : ntIter) {</b>
<b class="nc">&nbsp;			Resource aaa = nt.getSubject();</b>
<b class="nc">&nbsp;			Value bbb = nt.getObject();</b>
&nbsp;
<b class="nc">&nbsp;			if (aaa instanceof IRI &amp;&amp; bbb instanceof IRI) {</b>
&nbsp;				CloseableIteration&lt;? extends Statement, SailException&gt; t1Iter;
<b class="nc">&nbsp;				t1Iter = getWrappedConnection().getStatements(null, (IRI) aaa, null, true);</b>
&nbsp;
<b class="nc">&nbsp;				while (t1Iter.hasNext()) {</b>
<b class="nc">&nbsp;					Statement t1 = t1Iter.next();</b>
&nbsp;
<b class="nc">&nbsp;					Resource xxx = t1.getSubject();</b>
<b class="nc">&nbsp;					Value yyy = t1.getObject();</b>
&nbsp;
<b class="nc">&nbsp;					boolean added = addInferredStatement(xxx, (IRI) bbb, yyy);</b>
<b class="nc">&nbsp;					if (added) {</b>
<b class="nc">&nbsp;						nofInferred++;</b>
&nbsp;					}
<b class="nc">&nbsp;				}</b>
<b class="nc">&nbsp;				t1Iter.close();</b>
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// xxx rdf:type rdfs:Class --&gt; xxx rdfs:subClassOf rdfs:Resource
&nbsp;	private int applyRuleRdfs8() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; iter = newThisIteration.getStatements(null, RDF.TYPE, RDFS.CLASS);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement st : iter) {</b>
<b class="nc">&nbsp;			Resource xxx = st.getSubject();</b>
&nbsp;
<b class="nc">&nbsp;			boolean added = addInferredStatement(xxx, RDFS.SUBCLASSOF, RDFS.RESOURCE);</b>
<b class="nc">&nbsp;			if (added) {</b>
<b class="nc">&nbsp;				nofInferred++;</b>
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// xxx rdfs:subClassOf yyy (nt) &amp;&amp; aaa rdf:type xxx (t1) --&gt; aaa rdf:type yyy
&nbsp;	private int applyRuleRdfs9_1() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; ntIter = newThisIteration.getStatements(null, RDFS.SUBCLASSOF, null);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement nt : ntIter) {</b>
<b class="nc">&nbsp;			Resource xxx = nt.getSubject();</b>
<b class="nc">&nbsp;			Value yyy = nt.getObject();</b>
&nbsp;
<b class="nc">&nbsp;			if (yyy instanceof Resource) {</b>
&nbsp;				CloseableIteration&lt;? extends Statement, SailException&gt; t1Iter;
<b class="nc">&nbsp;				t1Iter = getWrappedConnection().getStatements(null, RDF.TYPE, xxx, true);</b>
&nbsp;
<b class="nc">&nbsp;				while (t1Iter.hasNext()) {</b>
<b class="nc">&nbsp;					Statement t1 = t1Iter.next();</b>
&nbsp;
<b class="nc">&nbsp;					Resource aaa = t1.getSubject();</b>
&nbsp;
<b class="nc">&nbsp;					boolean added = addInferredStatement(aaa, RDF.TYPE, yyy);</b>
<b class="nc">&nbsp;					if (added) {</b>
<b class="nc">&nbsp;						nofInferred++;</b>
&nbsp;					}
<b class="nc">&nbsp;				}</b>
<b class="nc">&nbsp;				t1Iter.close();</b>
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// aaa rdf:type xxx (nt) &amp;&amp; xxx rdfs:subClassOf yyy (t1) --&gt; aaa rdf:type yyy
&nbsp;	private int applyRuleRdfs9_2() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; ntIter = newThisIteration.getStatements(null, RDF.TYPE, null);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement nt : ntIter) {</b>
<b class="nc">&nbsp;			Resource aaa = nt.getSubject();</b>
<b class="nc">&nbsp;			Value xxx = nt.getObject();</b>
&nbsp;
<b class="nc">&nbsp;			if (xxx instanceof Resource) {</b>
&nbsp;				CloseableIteration&lt;? extends Statement, SailException&gt; t1Iter;
<b class="nc">&nbsp;				t1Iter = getWrappedConnection().getStatements((Resource) xxx, RDFS.SUBCLASSOF, null, true);</b>
&nbsp;
<b class="nc">&nbsp;				while (t1Iter.hasNext()) {</b>
<b class="nc">&nbsp;					Statement t1 = t1Iter.next();</b>
&nbsp;
<b class="nc">&nbsp;					Value yyy = t1.getObject();</b>
&nbsp;
<b class="nc">&nbsp;					if (yyy instanceof Resource) {</b>
<b class="nc">&nbsp;						boolean added = addInferredStatement(aaa, RDF.TYPE, yyy);</b>
<b class="nc">&nbsp;						if (added) {</b>
<b class="nc">&nbsp;							nofInferred++;</b>
&nbsp;						}
&nbsp;					}
<b class="nc">&nbsp;				}</b>
<b class="nc">&nbsp;				t1Iter.close();</b>
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// xxx rdf:type rdfs:Class --&gt; xxx rdfs:subClassOf xxx
&nbsp;	private int applyRuleRdfs10() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; iter = newThisIteration.getStatements(null, RDF.TYPE, RDFS.CLASS);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement st : iter) {</b>
<b class="nc">&nbsp;			Resource xxx = st.getSubject();</b>
&nbsp;
<b class="nc">&nbsp;			boolean added = addInferredStatement(xxx, RDFS.SUBCLASSOF, xxx);</b>
<b class="nc">&nbsp;			if (added) {</b>
<b class="nc">&nbsp;				nofInferred++;</b>
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// xxx rdfs:subClassOf yyy (nt) &amp;&amp; yyy rdfs:subClassOf zzz (t1)
&nbsp;	// --&gt; xxx rdfs:subClassOf zzz
&nbsp;	private int applyRuleRdfs11_1() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; ntIter = newThisIteration.getStatements(null, RDFS.SUBCLASSOF, null);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement nt : ntIter) {</b>
<b class="nc">&nbsp;			Resource xxx = nt.getSubject();</b>
<b class="nc">&nbsp;			Value yyy = nt.getObject();</b>
&nbsp;
<b class="nc">&nbsp;			if (yyy instanceof Resource) {</b>
&nbsp;				CloseableIteration&lt;? extends Statement, SailException&gt; t1Iter;
<b class="nc">&nbsp;				t1Iter = getWrappedConnection().getStatements((Resource) yyy, RDFS.SUBCLASSOF, null, true);</b>
&nbsp;
<b class="nc">&nbsp;				while (t1Iter.hasNext()) {</b>
<b class="nc">&nbsp;					Statement t1 = t1Iter.next();</b>
&nbsp;
<b class="nc">&nbsp;					Value zzz = t1.getObject();</b>
&nbsp;
<b class="nc">&nbsp;					if (zzz instanceof Resource) {</b>
<b class="nc">&nbsp;						boolean added = addInferredStatement(xxx, RDFS.SUBCLASSOF, zzz);</b>
<b class="nc">&nbsp;						if (added) {</b>
<b class="nc">&nbsp;							nofInferred++;</b>
&nbsp;						}
&nbsp;					}
<b class="nc">&nbsp;				}</b>
<b class="nc">&nbsp;				t1Iter.close();</b>
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// yyy rdfs:subClassOf zzz (nt) &amp;&amp; xxx rdfs:subClassOf yyy (t1)
&nbsp;	// --&gt; xxx rdfs:subClassOf zzz
&nbsp;	private int applyRuleRdfs11_2() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; ntIter = newThisIteration.getStatements(null, RDFS.SUBCLASSOF, null);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement nt : ntIter) {</b>
<b class="nc">&nbsp;			Resource yyy = nt.getSubject();</b>
<b class="nc">&nbsp;			Value zzz = nt.getObject();</b>
&nbsp;
<b class="nc">&nbsp;			if (zzz instanceof Resource) {</b>
&nbsp;				CloseableIteration&lt;? extends Statement, SailException&gt; t1Iter;
<b class="nc">&nbsp;				t1Iter = getWrappedConnection().getStatements(null, RDFS.SUBCLASSOF, yyy, true);</b>
&nbsp;
<b class="nc">&nbsp;				while (t1Iter.hasNext()) {</b>
<b class="nc">&nbsp;					Statement t1 = t1Iter.next();</b>
&nbsp;
<b class="nc">&nbsp;					Resource xxx = t1.getSubject();</b>
&nbsp;
<b class="nc">&nbsp;					boolean added = addInferredStatement(xxx, RDFS.SUBCLASSOF, zzz);</b>
<b class="nc">&nbsp;					if (added) {</b>
<b class="nc">&nbsp;						nofInferred++;</b>
&nbsp;					}
<b class="nc">&nbsp;				}</b>
<b class="nc">&nbsp;				t1Iter.close();</b>
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// xxx rdf:type rdfs:ContainerMembershipProperty
&nbsp;	// --&gt; xxx rdfs:subPropertyOf rdfs:member
&nbsp;	private int applyRuleRdfs12() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; iter = newThisIteration.getStatements(null, RDF.TYPE, RDFS.CONTAINERMEMBERSHIPPROPERTY);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement st : iter) {</b>
<b class="nc">&nbsp;			Resource xxx = st.getSubject();</b>
&nbsp;
<b class="nc">&nbsp;			boolean added = addInferredStatement(xxx, RDFS.SUBPROPERTYOF, RDFS.MEMBER);</b>
<b class="nc">&nbsp;			if (added) {</b>
<b class="nc">&nbsp;				nofInferred++;</b>
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// xxx rdf:type rdfs:Datatype --&gt; xxx rdfs:subClassOf rdfs:Literal
&nbsp;	private int applyRuleRdfs13() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; iter = newThisIteration.getStatements(null, RDF.TYPE, RDFS.DATATYPE);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement st : iter) {</b>
<b class="nc">&nbsp;			Resource xxx = st.getSubject();</b>
&nbsp;
<b class="nc">&nbsp;			boolean added = addInferredStatement(xxx, RDFS.SUBCLASSOF, RDFS.LITERAL);</b>
<b class="nc">&nbsp;			if (added) {</b>
<b class="nc">&nbsp;				nofInferred++;</b>
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	// xxx rdf:_* yyy --&gt; rdf:_* rdf:type rdfs:ContainerMembershipProperty
&nbsp;	// This is an extra rule for list membership properties (_1, _2, _3, ...).
&nbsp;	// The RDF MT does not specificy a production for this.
&nbsp;	private int applyRuleX1() throws SailException {
<b class="nc">&nbsp;		int nofInferred = 0;</b>
&nbsp;
<b class="nc">&nbsp;		String prefix = RDF.NAMESPACE + &quot;_&quot;;</b>
<b class="nc">&nbsp;		Iterable&lt;Statement&gt; iter = newThisIteration.getStatements(null, null, null);</b>
&nbsp;
<b class="nc">&nbsp;		for (Statement st : iter) {</b>
<b class="nc">&nbsp;			IRI predNode = st.getPredicate();</b>
<b class="nc">&nbsp;			String predURI = predNode.toString();</b>
&nbsp;
<b class="nc">&nbsp;			if (predURI.startsWith(prefix) &amp;&amp; isValidPredicateNumber(predURI.substring(prefix.length()))) {</b>
<b class="nc">&nbsp;				boolean added = addInferredStatement(predNode, RDF.TYPE, RDFS.CONTAINERMEMBERSHIPPROPERTY);</b>
<b class="nc">&nbsp;				if (added) {</b>
<b class="nc">&nbsp;					nofInferred++;</b>
&nbsp;				}
&nbsp;			}
<b class="nc">&nbsp;		}</b>
&nbsp;
<b class="nc">&nbsp;		return nofInferred;</b>
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Util method for {@link #applyRuleX1}.
&nbsp;	 */
&nbsp;	private boolean isValidPredicateNumber(String str) {
<b class="nc">&nbsp;		int strLength = str.length();</b>
&nbsp;
<b class="nc">&nbsp;		if (strLength == 0) {</b>
<b class="nc">&nbsp;			return false;</b>
&nbsp;		}
&nbsp;
<b class="nc">&nbsp;		for (int i = 0; i &lt; strLength; i++) {</b>
<b class="nc">&nbsp;			if (!ASCIIUtil.isNumber(str.charAt(i))) {</b>
<b class="nc">&nbsp;				return false;</b>
&nbsp;			}
&nbsp;		}
&nbsp;
&nbsp;		// No leading zeros
<b class="nc">&nbsp;		if (str.charAt(0) == &#39;0&#39;) {</b>
<b class="nc">&nbsp;			return false;</b>
&nbsp;		}
&nbsp;
<b class="nc">&nbsp;		return true;</b>
&nbsp;	}
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2022-09-18 08:56</div>
</div>
</body>
</html>
